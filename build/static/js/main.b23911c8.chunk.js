(this["webpackJsonpdemo-app"]=this["webpackJsonpdemo-app"]||[]).push([[0],{46:function(e,t,n){},65:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(31),s=n(14),a=n(2),r=(n(41),n(42),n(43),n(46),n(11)),o=n(3),l=n(9),d=n(32),j=n.n(d).a.create({baseURL:"https://1c6uf2sudb.execute-api.us-east-1.amazonaws.com/dev/shopping-list",headers:{Accept:"application/json","Content-Type":"application/json"}}),u={getAll:function(){return j.get("/get")},get:function(e){return j.get("/get/".concat(e))},create:function(e){return j.post("/create",e)},update:function(e,t){return j.put("/update/".concat(e),t)},remove:function(e){return j.delete("/delete/".concat(e))},removeAll:function(){return j.delete("/delete")},findByTitle:function(e){return j.get("/get?title=".concat(e))}},b=n(0),h=function(){var e={id:null,title:"",description:"",finished:!1},t=Object(c.useState)(e),n=Object(l.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(!1),d=Object(l.a)(a,2),j=d[0],h=d[1],p=function(e){var t=e.target,n=t.name,c=t.value;s(Object(o.a)(Object(o.a)({},i),{},Object(r.a)({},n,c)))};return Object(b.jsx)("div",{className:"submit-form",children:j?Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"You submitted successfully!"}),Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){s(e),h(!1)},children:"Add"})]}):Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"title",placeholder:"Enter item name",required:!0,value:i.title,onChange:p,name:"title"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description",children:"Description"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"description",placeholder:"Enter item description",required:!0,value:i.description,onChange:p,name:"description"})]}),Object(b.jsx)("div",{className:"button-container",children:Object(b.jsx)("button",{onClick:function(){var e={title:i.title,description:i.description};u.create(e).then((function(e){s({id:e.data.id,title:e.data.title,description:e.data.description,finished:!!e.data.finished&&e.data.finished}),h(!0)})).catch((function(e){console.log(e)}))},className:"btn btn-success custom-button",disabled:""===i.title||""===i.description,children:"Submit"})})]})})},p=(n(65),function(e){var t=Object(c.useState)({id:null,title:"",description:"",finished:!1}),n=Object(l.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)(""),d=Object(l.a)(a,2),j=d[0],h=d[1];Object(c.useEffect)((function(){var t;t=e.match.params.id,u.get(t).then((function(e){s(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var p=""===i.title||""===i.description,m=function(e){var t=e.target,n=t.name,c=t.value;s(Object(o.a)(Object(o.a)({},i),{},Object(r.a)({},n,c)))},O=function(e){var t={id:i.id,finished:e};u.update(i.id,t).then((function(t){s(Object(o.a)(Object(o.a)({},i),{},{finished:e})),h("The status was updated successfully!")})).catch((function(e){console.log(e)}))};return Object(b.jsx)("div",{children:i?Object(b.jsxs)("div",{className:"edit-form",children:[Object(b.jsx)("h4",{children:"Item"}),Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:i.title,onChange:m})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"description",children:"Description"}),Object(b.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:i.description,onChange:m})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("strong",{children:"Status:"}),"\xa0"]}),i.finished?"Done":"Pending"]})]}),Object(b.jsxs)("div",{className:"button-container",children:[i.finished?Object(b.jsx)("button",{className:"badge-primary mr-2 custom-button",onClick:function(){return O(!1)},disabled:p,children:"Unfinished"}):Object(b.jsx)("button",{className:"badge-primary mr-2 custom-button",onClick:function(){return O(!0)},disabled:p,children:"Finish"}),Object(b.jsx)("button",{className:"badge-danger mr-2 custom-button",onClick:function(){u.remove(i.id).then((function(t){e.history.push("/shopping-list")})).catch((function(e){console.log(e)}))},children:"Delete"}),Object(b.jsx)("button",{type:"submit",className:"badge-success custom-button",onClick:function(){u.update(i.id,i).then((function(e){h("The item was updated successfully!")})).catch((function(e){console.log(e)}))},disabled:p,children:"Update"})]}),Object(b.jsx)("p",{style:{marginTop:15},children:j})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("br",{}),Object(b.jsx)("p",{children:"Please click on an item..."})]})})}),m=n(36),O=n(17),f=n.n(O),x=n(33),v=n(34),g=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),i=n[0],s=n[1],a=Object(c.useState)([]),r=Object(l.a)(a,2),d=r[0],j=r[1],h=Object(c.useState)(""),p=Object(l.a)(h,2),O=p[0],g=p[1],N=Object(c.useRef)();N.current=d,Object(c.useEffect)((function(){y()}),[]);var y=function(){var e=Object(x.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,u.getAll();case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:s(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),C=function(t){var n=N.current[t].id;e.history.push("/shopping-list/"+n)},k=function(t){var n=N.current[t].id;u.remove(n).then((function(n){e.history.push("/shopping-list");var c=Object(m.a)(N.current);c.splice(t,1),j(c)})).catch((function(e){console.log(e)}))},w=Object(c.useMemo)((function(){return[{Header:"Title",accessor:"title"},{Header:"Description",accessor:"description"},{Header:"Status",accessor:"finished",Cell:function(e){return e.value?"Finished":"Pending"}},{Header:"Actions",accessor:"actions",Cell:function(e){var t=e.row.id;return Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly"},children:[Object(b.jsx)("span",{onClick:function(){return C(t)},children:Object(b.jsx)("i",{className:"far fa-edit action mr-2"})}),Object(b.jsx)("span",{onClick:function(){return k(t)},children:Object(b.jsx)("i",{className:"fas fa-trash action"})})]})}}]}),[]),T=Object(v.useTable)({columns:w,data:d}),S=T.getTableProps,F=T.getTableBodyProps,P=T.headerGroups,A=T.rows,D=T.prepareRow;return Object(b.jsxs)("div",{className:"list row",children:[Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsxs)("div",{className:"input-group mb-3",children:[Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:O,onChange:function(e){var t=e.target.value;g(t)}}),Object(b.jsx)("div",{style:{marginLeft:10},className:"input-group-append",children:Object(b.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){u.findByTitle(O).then((function(e){j(e.data)})).catch((function(e){console.log(e)}))},children:"Search"})})]})}),i?Object(b.jsx)("div",{style:{textAlign:"center",marginTop:53},children:Object(b.jsx)("svg",{width:"38",height:"38",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#212529",children:Object(b.jsx)("g",{fill:"none",fillRule:"evenodd",children:Object(b.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[Object(b.jsx)("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),Object(b.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:Object(b.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})}):Object(b.jsx)(b.Fragment,{children:d.length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"col-md-12 list",children:Object(b.jsxs)("table",Object(o.a)(Object(o.a)({className:"table table-striped table-bordered"},S()),{},{children:[Object(b.jsx)("thead",{children:P.map((function(e){return Object(b.jsx)("tr",Object(o.a)(Object(o.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(b.jsx)("th",Object(o.a)(Object(o.a)({},e.getHeaderProps()),{},{children:e.render("Header")}))}))}))}))}),Object(b.jsx)("tbody",Object(o.a)(Object(o.a)({},F()),{},{children:A.map((function(e,t){return D(e),Object(b.jsx)("tr",Object(o.a)(Object(o.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(b.jsx)("td",Object(o.a)(Object(o.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))}))}))]}))}),Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(){u.removeAll().then((function(e){y()})).catch((function(e){console.log(e)}))},disabled:d.length<=0,children:"Remove All"})})]}):Object(b.jsx)("p",{children:"The list is empty. Would you like to add some items into the list?"})})]})};var N=function(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(b.jsx)("a",{href:"/",className:"navbar-brand",children:"Smartpay Demo"}),Object(b.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(s.b,{to:"/shopping-list",className:"nav-link",children:"Shopping List"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(s.b,{to:"/add",className:"nav-link",children:"Add Item"})})]})]}),Object(b.jsx)("div",{className:"container mt-3",children:Object(b.jsxs)(a.c,{children:[Object(b.jsx)(a.a,{exact:!0,path:["/","/shopping-list"],component:g}),Object(b.jsx)(a.a,{exact:!0,path:"/add",component:h}),Object(b.jsx)(a.a,{path:"/shopping-list/:id",component:p})]})})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};Object(i.render)(Object(b.jsx)(s.a,{children:Object(b.jsx)(N,{})}),document.getElementById("root")),y()}},[[75,1,2]]]);
//# sourceMappingURL=main.b23911c8.chunk.js.map